@switch (stepperOrientation | async) {
  @case ('horizontal') {
  }
  @case ('vertical') {
  }
}

<div style="padding-top: 35px !important;" class="stepper">
  <mat-stepper #stepper [disableRipple]="false" [linear]="isLinear" labelPosition="bottom" [orientation]="(stepperOrientation | async)!">
    <mat-step [stepControl]="kundeinformationen">
      <form [formGroup]="kundeinformationen" #myForm="ngForm">
        <ng-template matStepLabel>Persönliche Daten</ng-template>
        <ng-template matStepContent>
          <div  class="container person">
            <div class="row d-flex align-content-center ">
              <div class="col ">
                <div class="row justify-content-md-center">
                  <div class="col-6 ">
                    <div class=" d-flex flexcol justify-content-between flex-sm-wrap">
                      <div class="col-md-auto personicon align-self-center">
                        <mat-icon class="img">person</mat-icon>
                      </div>

                      <div style="margin-right: 17px" class="input ">
                        <mat-form-field class="personinput" appearance="outline">
                          <mat-label>Vorname</mat-label>
                          <input style=""  type="firstName" formControlName="firstName" matInput placeholder="Ihr Vorname" required>
                        </mat-form-field>
                      </div>
                      <div class="input ">
                        <mat-form-field class="personinput"  appearance="outline">
                          <mat-label>Nachname</mat-label>
                          <input matInput type="lastname" formControlName="lastName" placeholder="Ihr NachName" required>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div style="" class="container email">
            <div class="row d-md-flex align-content-md-center">
              <div class="col">
                <div class="row justify-content-md-center">
                  <div class="col-6 ">
                    <div style="align-self: center" class=" d-flex mail justify-content-md-between gap-sm-0 flex-sm-wrap">

                      <div class=" col-md-auto align-self-center">
                        <mat-icon class="img">alternate_email</mat-icon>
                      </div>

                      <div  class="input inputmaill" >
                        <mat-form-field  class="mailinput" appearance="outline">
                          <mat-label>Email</mat-label>
                          <input matInput formControlName="email"
                                 placeholder="z.B. pat@example.com" required>
                          @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
                            <mat-error>Bitte geben Sie eine gültige E-Mail-Adresse ein</mat-error>
                          }
                          @if (emailFormControl.hasError('required')) {
                            <mat-error>Email ist <strong>erforderlich!</strong></mat-error>
                          }
                        </mat-form-field>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>


          <div  class="container phone">
            <div class="row d-md-flex align-content-md-center">
              <div class="col">
                <div class="row justify-content-md-center">
                  <div class="col-6 ">
                    <div style="align-self: center" class=" d-flex mail justify-content-md-between flex-sm-wrap">

                      <div class=" col-md-auto align-self-center">
                        <mat-icon class="img">smartphone</mat-icon>
                      </div>

                      <div   class="input inputmaill" >
                        <mat-form-field class="phoneinput" style="" appearance="outline">
                          <mat-label>Telefonnummer</mat-label>
                          <span matTextPrefix style="padding-right: 15px">+49 &nbsp;</span>
                          <input matInput type="tel" formControlName="tel"  required>
                          <mat-icon style="color: #30b61b" matSuffix>phone</mat-icon>
                          <mat-hint style="color: #6E00CA; font-weight: 500; margin-top: 5px">z.B. +49123456789</mat-hint>
                        </mat-form-field>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>

          <div style=""  class="container adresse">
            <div class="row d-md-flex align-content-md-center">
              <div class="col">
                <div class="row justify-content-md-center">
                  <div class="col-6 ">
                    <div style="align-self: center" class=" d-flex mail justify-content-md-between flex-sm-wrap flex-md-nowrap">

                      <div class="adresseimg col-md-auto align-self-center">
                        <mat-icon class="img">share_location</mat-icon>
                      </div>

                      <div style="display: flex;"  class="input flex flex-wrap gap-3 inputmaill inputadresse" >
                        <div >
                          <mat-form-field style="width: 20em; " appearance="outline">
                            <mat-label>Adresse</mat-label>
                            <input [matMenuTriggerFor]="menu" matInput type="adresse" formControlName="adresse"  required>
                            <mat-hint style="color: #6E00CA; font-weight: 500; padding-top: 5px">Bitte geben Sie die Standortadresse Ihres Autos ein!</mat-hint>
                          </mat-form-field>
                        </div>
                        <div class="">
                          <mat-form-field class="hausnr" appearance="outline">
                            <mat-label>Haus Nr</mat-label>
                            <input matInput type="hausnummer" formControlName="hausnummer"  >
                          </mat-form-field>
                        </div>
                        <div class="align-self-end align-self-auto">
                          <mat-form-field class="plz" appearance="outline">
                            <mat-label>PLZ</mat-label>
                            <input matInput type="plz" formControlName="plz" >
                          </mat-form-field>
                        </div>
                        <div class=" stadt align-self-end">
                          <mat-form-field style="width: 10em;" appearance="outline">
                            <mat-label>Stadt</mat-label>
                            <input matInput type="stadt" formControlName="stadt">
                          </mat-form-field>
                        </div>


                        <mat-menu class="menu" style=""  #menu="matMenu">
                          <div>
                            <button mat-button style="width: 17rem; height: 3.2rem; font-size: 17px " (click)="getPosition()">
                                  <mat-icon style="scale: 1.3; margin-right: 40px; color: #1b3fb6"  class="fa-solid fa-location-crosshairs" ></mat-icon>
                                  <span>Mein Standort</span>
                            </button>

                          </div>
                        </mat-menu>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="d-flex gap-5 align-content-center service">
            <div class="align-self-center">
              <mat-icon style="margin-left: 5px" class="img">no_crash</mat-icon>
            </div>
            <div class="selectedservice" >
              <mat-chip-listbox [contentEditable]="false" readonly="true" formControlName="auswahl" (change)="onSelectionChange($event)" required>
                <mat-chip-option  [value]="option1" color="accent" selected>Räderwechseln</mat-chip-option>
                <mat-chip-option  [value]="option2" color="accent">Reifenwechseln</mat-chip-option>
              </mat-chip-listbox>
            </div>
          </div>

          <div style="display: flex; justify-content: flex-end; margin-top: 20px">
            <button mat-raised-button color="primary" style="height: 50px;width: 200px" class="btn" matStepperNext>Nächste Schritt</button>
          </div>
        </ng-template>
      </form>
    </mat-step>

    <!----------------- stepper 2------------------->

    <mat-step [stepControl]="autoinformationen"  label="Fahrzeuginformationen">
      <form [formGroup]="autoinformationen">
        <div style="width: 70%; margin-top: 40px" class="container d-flex input flex-wrap justify-content-evenly gap-4">
          <div class="mb-3">
            <div class="d-flex flex-wrap mb-3 flex-wrap">
              <mat-form-field appearance="outline">
                <mat-label>Automarke</mat-label>
                <input matInput formControlName="automarkeTeil1" required>
                <mat-hint style="color: #6E00CA; font-weight: 600; font-size: 13px; margin-top: 5px; margin-left: 80px">Z.B. 195/65</mat-hint>
              </mat-form-field>

              <mat-form-field style="width: 80px; margin-left: 3px;" appearance="outline">
                <input matInput formControlName="automarkeTeil2" required>
                <mat-hint style="color: #6E00CA; font-weight: 600; margin-top: 5px; font-size: 13px">R15</mat-hint>
              </mat-form-field>

              <mat-form-field style="width: 80px; margin-left: 3px;" appearance="outline">
                <input matInput formControlName="automarkeTeil3" required>
                <mat-hint style="color: #6E00CA; font-weight: 600; margin-top: 5px; font-size: 13px">91h</mat-hint>
              </mat-form-field>
            </div>
            <div class="d-flex flex-wrap justify-content-center">
              <div style="margin-top: 15px" class="mb-3">
                <mat-form-field appearance="outline">
                  <mat-label>Fahrzeugart</mat-label>
                  <mat-select type="text" formControlName="fahrzeugtyp" required>
                    <mat-option value="SUV">SUV</mat-option>
                    <mat-option value="VAN">VAN / BUS</mat-option>
                    <mat-option value="PKW">PKW</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div style="margin-top: 15px; margin-left: 10px" *ngIf="!reifenwechsel" class="mb-3">
                <mat-form-field appearance="outline">
                  <mat-label>Radgröße</mat-label>
                  <input matInput formControlName="radgroesse" required>
                </mat-form-field>
              </div>
              <div *ngIf="reifenwechsel" style="margin-top: 15px;" [style.margin-left.px]="radwechsln ? 60 : 0" class=" ">
                <mat-form-field style="width: 210px !important; margin-left: 15px !important;" class="anzahlreifen align-self-center"  appearance="outline">
                  <mat-label>Anzahl der {{anzahlname}}</mat-label>
                  <input matInput value="1" formControlName="anzahlreifen" class=" text-center bold" readonly>
                  <button mat-icon-button matPrefix (click)="decrease()">
                    <mat-icon color="primary" style=" overflow: visible" class="fa-solid fa-circle-minus"></mat-icon>
                  </button>
                  <button mat-icon-button matSuffix (click)="increase()">
                    <mat-icon color="primary" style=" overflow: visible" class="fa-solid fa-circle-plus"></mat-icon>
                  </button>
                </mat-form-field>
              </div>

            </div>


            <div *ngIf="!reifenwechsel" class="mb-3">
              <mat-form-field appearance="outline">
                <mat-label>Räderart</mat-label>
                <mat-select formControlName="raederart" required>
                  <mat-option value="stahl">STAHL</mat-option>
                  <mat-option value="alu">ALU</mat-option>
                </mat-select>
              </mat-form-field>
            </div>

          </div>

        </div>
        <div>
          <div class="d-flex justify-content-between " style="margin-top: 20px">
            <button mat-stroked-button color="primary" style="height: 50px;width: 200px; margin-right: 100px" class="btn" matStepperPrevious>Zurück</button>
            <button mat-raised-button color="primary" style="height: 50px;width: 200px" class="btn" matStepperNext>Nächste Schritt</button>
          </div>
        </div>
      </form>
    </mat-step>

    <!----------------- stepper 3------------------->

    <mat-step [stepControl]="termin">
      <form [formGroup]="termin">
      <ng-template matStepLabel>Terminauswahl</ng-template>
      <div class="container d-flex flex-column align-items-center">
        <div style="padding-top: 13px; padding-bottom: 15px" class="d-flex justify-content-center">
          <mat-form-field style="width: 20rem" class="input" appearance="outline">
            <mat-label>Wählen Sie ein Datum aus</mat-label>
            <input matInput [min]="currentTime" formControlName="termindatum" [matDatepicker]="picker" (dateChange)="getDate($event)" required>
            <mat-hint style="color: #ce2a2a; font-weight: 500; margin-top: 5px">TT.MM.JJJJ</mat-hint>
            <mat-datepicker-toggle disabled="false" style="color: #1b3fb6" matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker disabled="false" #picker></mat-datepicker>
          </mat-form-field>
        </div>
        <div *ngIf="aktiveTermin" class="termincontainer d-flex" style="content: initial; min-height: 15rem; max-width: 30rem; margin-top: 15px;">
          <mat-card class="shadow-sm p-3 mb-5 bg-light rounded" style="height: 100%">
            <mat-card-header>
              <mat-card-title>Wählen Sie eine Uhrzeit aus</mat-card-title>
            </mat-card-header>
            <mat-card-content style="margin-top: 20px;">
              <mat-chip-listbox formControlName="terminuhrzeit" required>
                <mat-chip-option color="accent" *ngFor="let termin of termine" [disabled]="termin.status">{{ termin.uhrzeit }}</mat-chip-option>
              </mat-chip-listbox>
            </mat-card-content>
          </mat-card>
        </div>

      </div>
      <div>
        <div class="d-flex justify-content-between " style="margin-top: 20px">
          <button mat-stroked-button color="primary" style="height: 50px;width: 200px; margin-right: 100px" class="btn" matStepperPrevious>Zurück</button>
          <button mat-raised-button color="primary" style="height: 50px;width: 200px" class="btn" matStepperNext>Nächste Schritt</button>
        </div>
      </div>
      </form>
    </mat-step>

    <!----------------- stepper 4------------------->

    <mat-step  label="Preisberechnung und Bestätigung">
      <div style="margin-top: 25px" class="container">
        <div class="" >
          <mat-card style="background-color: #5d54ca; border-radius: 1.2rem !important;" class="shadow card p-3 mb-5 text-white rounded ">
            <mat-card-header class="">
              <mat-card-subtitle style="color: #000000">Preisspanne</mat-card-subtitle>
              <mat-card-title style="font-size: 40px; margin-top: 20px;margin-bottom: 20px">10€ - 35€</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <mat-divider>

              </mat-divider>
            </mat-card-content>
            <mat-card-actions style="font-family: Roboto, sans-serif">
              <p class="text-light">Der Preis variiert je nach Art, Größe und Zustand der Reifen. Für eine individuelle Preisangabe kontaktieren Sie uns bitte oder rufen Sie uns an!</p>


            </mat-card-actions>
            <mat-card-footer style="margin-left: 7px">
              <p style="color: #FFD700; font-weight: 700">
                Zusätzlich wird eine Anfahrtsgebühr von <strong>1,50 Euro</strong> pro Kilometer erhoben
              </p>
            </mat-card-footer>
          </mat-card>
        </div>

        <div>
          <form class="d-flex flex-column gap-4" #form="ngForm" (ngSubmit)="confirmed()">
            <mat-slide-toggle [(ngModel)]="acceptTerms" name="acceptTerms" required><span style="margin-left: 10px">
              Ich bestätige, dass ich <a href="#">die Nutzungsbedingungen</a> dieser Webseite gelesen habe und diesen zustimme.</span></mat-slide-toggle>
            <div class="d-flex justify-content-between" style="margin-top: 20px">
              <button mat-stroked-button color="primary" style="height: 50px;width: 200px; margin-right: 100px" class="btn" matStepperPrevious>Zurück</button>
              <button [disabled]="!acceptTerms" mat-raised-button color="primary" style="background-color: #00BC4E !important;height: 50px;width: 200px" class="btn" matStepperNext>Auftrag absenden</button>
            </div>
          </form>
        </div>
      </div>
    </mat-step>
  </mat-stepper>
</div>
